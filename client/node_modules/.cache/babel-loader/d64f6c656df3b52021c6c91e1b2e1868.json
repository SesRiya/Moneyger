{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\"; //create action\n\nexport const createExpensesAction = createAsyncThunk(\"expense/create\", async (payload, _ref) => {\n  var _getState, _getState$users, _getState$users$userA;\n\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref;\n  // get user token from store\n  const userToken = (_getState = getState()) === null || _getState === void 0 ? void 0 : (_getState$users = _getState.users) === null || _getState$users === void 0 ? void 0 : (_getState$users$userA = _getState$users.userAuth) === null || _getState$users$userA === void 0 ? void 0 : _getState$users$userA.token;\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${userToken}`\n    }\n  };\n\n  try {\n    //htttp address\n    const {\n      data\n    } = await axios.post(`${baseURL}/expenses`, payload, config);\n    return data;\n  } catch (error) {\n    var _error$response;\n\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n}); //fetch all action\n\nexport const fetchAllExpensesAction = createAsyncThunk(\"expense/fetch\", async (payload, _ref2) => {\n  var _getState2, _getState2$users, _getState2$users$user;\n\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref2;\n  // get user token from store\n  const userToken = (_getState2 = getState()) === null || _getState2 === void 0 ? void 0 : (_getState2$users = _getState2.users) === null || _getState2$users === void 0 ? void 0 : (_getState2$users$user = _getState2$users.userAuth) === null || _getState2$users$user === void 0 ? void 0 : _getState2$users$user.token;\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${userToken}`\n    }\n  };\n\n  try {\n    //htttp address\n    const {\n      data\n    } = await axios.get(`${baseURL}/expenses?page=${payload}`, payload, config);\n    return data;\n  } catch (error) {\n    var _error$response2;\n\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n  }\n});\nconst expensesSlices = createSlice({\n  name: \"expenses\",\n  initialState: {},\n  extraReducers: builder => {\n    builder.addCase(createExpensesAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(createExpensesAction.fulfilled, (state, action) => {\n      state.loading = false;\n      state.expenseCreated = action === null || action === void 0 ? void 0 : action.payload;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(createExpensesAction.rejected, (state, action) => {\n      var _action$payload, _action$error;\n\n      state.loading = false;\n      state.appErr = action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.msg;\n      state.serverErr = action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.msg;\n    });\n  }\n});\nexport default expensesSlices.reducer;","map":{"version":3,"sources":["D:/VIC U/SWEN 504/Moneyger/client/src/redux/slices/expenses/expensesSlices.js"],"names":["createAsyncThunk","createSlice","axios","baseURL","createExpensesAction","payload","rejectWithValue","getState","dispatch","userToken","users","userAuth","token","config","headers","Authorization","data","post","error","response","fetchAllExpensesAction","get","expensesSlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","expenseCreated","appErr","undefined","serverErr","rejected","msg","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport baseURL from \"../../../utils/baseURL\";\r\n\r\n//create action\r\nexport const createExpensesAction = createAsyncThunk(\r\n  \"expense/create\",\r\n  async (payload, { rejectWithValue, getState, dispatch }) => {\r\n    // get user token from store\r\n    const userToken = getState()?.users?.userAuth?.token;\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userToken}`,\r\n      },\r\n    };\r\n    try {\r\n      //htttp address\r\n      const { data } = await axios.post(\r\n        `${baseURL}/expenses`,\r\n        payload,\r\n        config\r\n      );\r\n      return data;\r\n    } catch (error) {\r\n      if (!error?.response) {\r\n        throw error;\r\n      }\r\n      return rejectWithValue(error?.response?.data);\r\n    }\r\n  }\r\n);\r\n\r\n//fetch all action\r\nexport const fetchAllExpensesAction = createAsyncThunk(\r\n  \"expense/fetch\",\r\n  async (payload, { rejectWithValue, getState, dispatch }) => {\r\n    // get user token from store\r\n    const userToken = getState()?.users?.userAuth?.token;\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userToken}`,\r\n      },\r\n    };\r\n    try {\r\n      //htttp address\r\n      const { data } = await axios.get(\r\n        `${baseURL}/expenses?page=${payload}`,\r\n        payload,\r\n        config\r\n      );\r\n      return data;\r\n    } catch (error) {\r\n      if (!error?.response) {\r\n        throw error;\r\n      }\r\n      return rejectWithValue(error?.response?.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst expensesSlices = createSlice({\r\n  name: \"expenses\",\r\n  initialState:{},\r\n  extraReducers:(builder)=>{ \r\n    builder.addCase(createExpensesAction.pending, (state, action) => {\r\n      state.loading = true;\r\n    });\r\n    builder.addCase(createExpensesAction.fulfilled, (state, action) =>{\r\n      state.loading = false;\r\n      state.expenseCreated = action?.payload;\r\n      state.appErr = undefined;\r\n      state.serverErr = undefined;\r\n    });\r\n    builder.addCase(createExpensesAction.rejected, (state, action) =>{\r\n      state.loading = false;\r\n      state.appErr = action?.payload?.msg;\r\n      state.serverErr = action?.error?.msg;\r\n    });\r\n  },\r\n\r\n  \r\n});\r\n\r\nexport default expensesSlices.reducer;\r\n"]},"metadata":{},"sourceType":"module"}